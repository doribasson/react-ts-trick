מה ההבדל בין ה-DOM ל-Virtual DOM?

חייבת להודות שלפעמים בזמן קידוד אני חושבת שיש איזה מקל קסמים שמזיז שם את העניינים.. והמחשבה הזאת פתחה את הדלת לסקרנות ...  
אז מה עובד מאחורי ה-"public API" ואיך ריאקט באמת עובדת ? מעניין ..

Document Object Model = DOM  
ה-DOM במשפט אחד, הוא מייצג את מבנה ה-UI של האפליקציה בשתי צורות: טקסטואלית(HTML) בעזרת צמתים (NODE.JS) ואובייקטים.

אסביר… בזמן שינוי כלשהו באפליקציה, עדכון שאמור להיות מוצג ללקוח למשל: מחיקת תמונה, הלקוח מצפה שהתמונה לא תהיה קיימת יותר בגלריה לאחר המחיקה, זאת אומרת שה- DOM מתעדכן כדי שיוכל לייצג את אותו שינוי.
בשביל לבצע שינויים ב-DOM נשתמש בדרך כלל ב-JS או
שנשנה את ה-state בריאקט.

חייב להבין!! במידה ונבצע שינויים תכופים ישירות ב-DOM הוא יפגע מבחינת ביצועים ונחווה טעינה איטית.
למה מגיעה אותה ה-איטיות? מסיבה פשוטה בהתאם לדוגמא שלנו בכל פעם שתרצה לעדכן את ה-DOM ישירות, האפליקציה שלנו תטען את כל-כולה בצורה מלאה במקום רק את השינוי הקטן שביצענו, למחוק תמונה מהגלריה. הגיון פשוט לא?
למה שארצה לטעון מחדש את כל השכבות (layouts) שיש לי או להריץ מחדש את כל ה-CSS בגלל שינוי קטנטן? 

אז הנה לפנינו הפתרון לבעיה ….

Virtual DOM.
האמת שה-Virtual DOM הוא דומה מאוד ל-DOM הרגיל, הוא בעצם ייצוג בזיכרון, אובייקט ג'אווה סקריפט קל משקל 
שהוא העתק של ה-REAL DOM
אבל כמובן שיש כמה הבדלים בין ה- Virtual DOM לבין ה-DOM.
למה ה-Virtual DOM מהיר יותר ? אמרנו שכל פעם שה-state של האפליקציה מתעדכן, ריאקט יוצרת את כל ה-Virtual DOM מאפס. 
יצירה זו מהירה מאוד - כי ליצור עץ שלם מאובייקטים עובדתית זו פעולה מהירה ולכן לא משפיע על הביצועים שלנו . זאת אומרת במילים פשוטות, ריאקט מחזיקה כל הזמן שני Virtual DOM , אחד עם המצב המעודכן והשני עם המצב הלא מעודכן, לאחר שמתעדכנות הקומפוננטות הדרושות ב-Virtual DOM ריאקט יוצרת השוואה בין השתיים באמצעות אלגוריתם מסוים ולאחר שאותו אלגוריתם מצא את המינימום פעולות
לעדכון ה-Real DOM מתעדכנים רק השינויים הנדרשים 
ולא נטענים דברים מיותרים.
ריאקט יודעת לחכות עד שכל השינוים מתבצעים בשכבה השנייה של ה-Virtual DOM ורק לאחר סיום, ה-DOM יעודכן בפעם אחת עם כל השינויים שבוצעו רק במקומות הרלוונטים.

המטרה כאן היא להמעיט את השימוש ב-DOM האמיתי למינימום וכך אנחנו משפרים זמן טעינה וחוסכים מזומנים.

נ.ב
אני מחפשת את האתגר הבא שלי - זה שיביא למקסום היכולות שלי ואלמד ממנו כמה שיותר!
אז אם אתם מחפשים מתכנתת רצינית שאוהבת לחקור וללמוד, שגרו אלי הודעה בפרטי ונבדוק את ההתאמה ביננו 😉
עד אז, שימו עין על הפיד כי יש לי המון מידע לחלוק איתכם 😊